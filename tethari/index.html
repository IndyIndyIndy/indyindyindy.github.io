<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tethari - Spiel</title>
<link rel="stylesheet" href="assets/tethari.css">
<style>
body {
  padding-bottom: 96px;
}

#app > footer {
  position: fixed;
  left: 50%;
  bottom: 16px;
  transform: translateX(-50%);
  z-index: 60;
  background: rgba(15, 14, 26, 0.94);
  border: 2px solid #3a2818;
  border-radius: 8px;
  padding: 10px 14px;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.45);
  max-width: calc(100vw - 24px);
  justify-content: center;
  flex-wrap: wrap;
}
</style>
</head>
<body>
<div id="app">
  <header>
    <h1>TETHARI</h1>
    <div id="status">Dein Zug (Weiss)</div>
  </header>

  <main>
    <div class="sidebar">
      <div class="captured-area">
        <h3>Verluste Schwarz</h3>
        <div class="captured-pieces" id="black-captured"></div>
      </div>
      <div id="move-log">
        <h3>Partieverlauf</h3>
        <div id="move-list"></div>
      </div>
    </div>

    <div id="board-wrapper">
      <div class="rank-labels" id="rank-labels"></div>
      <div id="board"></div>
      <div class="file-labels" id="file-labels"></div>
    </div>

    <div class="sidebar">
      <div class="captured-area">
        <h3>Verluste Weiss</h3>
        <div class="captured-pieces" id="white-captured"></div>
      </div>
      <div class="movement-panel">
        <h3>Bewegungsgrafik</h3>
        <div class="move-card-list">
          <div class="move-card">
            <div class="move-head"><span class="move-code">H</span><span class="move-name">Hauptmann</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 12M30 30L30 48M30 30L12 30M30 30L48 30M30 30L16 16M30 30L44 16M30 30L16 44M30 30L44 44"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">1 Feld in alle 8 Richtungen</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">W</span><span class="move-name">Waechter</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 12M30 30L12 30M30 30L48 30M30 30L30 48M30 30L16 44M30 30L44 44"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">6 Richtungen, keine diagonale Vorwaertsbewegung</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">K</span><span class="move-name">Klinge</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 12M30 30L16 16M30 30L44 16M30 30L16 44M30 30L44 44"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">Vorwaerts + alle diagonalen Einzelschritte</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">S</span><span class="move-name">Springer</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <circle class="jump" cx="20" cy="10" r="3"/><circle class="jump" cx="40" cy="10" r="3"/>
                <circle class="jump" cx="10" cy="20" r="3"/><circle class="jump" cx="50" cy="20" r="3"/>
                <circle class="jump" cx="10" cy="40" r="3"/><circle class="jump" cx="50" cy="40" r="3"/>
                <circle class="jump" cx="20" cy="50" r="3"/><circle class="jump" cx="40" cy="50" r="3"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">L-Sprung, kann Figuren ueberspringen</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">T</span><span class="move-name">Turm</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 10M30 30L30 50M30 30L10 30M30 30L50 30"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">Beliebig weit orthogonal</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">P</span><span class="move-name">Tuemmler</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 10M30 30L10 30M30 30L50 30"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">1 Feld vorwaerts oder seitwaerts gleiten</div>
            </div>
          </div>
          <div class="move-card">
            <div class="move-head"><span class="move-code">O</span><span class="move-name">Orca</span></div>
            <div class="move-body">
              <svg class="move-svg" viewBox="0 0 60 60" aria-hidden="true">
                <path class="grid" d="M10 10H50M10 20H50M10 30H50M10 40H50M10 50H50M10 10V50M20 10V50M30 10V50M40 10V50M50 10V50"/>
                <path class="path" d="M30 30L30 10M30 30L30 50M30 30L10 30M30 30L50 30M30 30L20 20M30 30L40 20M30 30L20 40M30 30L40 40"/>
                <circle class="center" cx="30" cy="30" r="4"/>
              </svg>
              <div class="move-desc">Orthogonal weit + diagonal 1 Feld</div>
            </div>
          </div>
        </div>
        <div class="move-hint">Grafik aus Weiss-Perspektive. Bei Schwarz ist vorwaerts gespiegelt.</div>
      </div>
    </div>
  </main>

  <footer>
    <button id="btn-new">Neues Spiel</button>
    <select id="difficulty" title="KI-Staerke">
      <option value="2">Leicht</option>
      <option value="3" selected>Mittel</option>
      <option value="4">Schwer</option>
    </select>
    <button id="help-toggle">Regeln</button>
  </footer>
  <div id="help-panel">
    <h3>Ziel</h3>
    <p>Eliminiere alle gegnerischen Figuren. Es gibt keinen Koenig &mdash; jede Figur zaehlt.</p>

    <h3>Die Isolationsregel</h3>
    <p>Jede Figur braucht mindestens einen <b>verbuendeten Nachbarn</b> auf einem der 8 angrenzenden Felder (orthogonal oder diagonal). Figuren ohne Nachbarn werden <b>angezaehlt</b> <span style="color:#d04040">(roter Rand)</span> und sterben, falls sie nach dem naechsten eigenen Zug noch immer allein stehen. Du hast also <b>einen Zug</b> Zeit, die Verbindung zu reparieren.</p>
    <p>Ausnahme: Die allerletzte Figur eines Spielers kann nicht isoliert sterben.</p>

    <h3>Schlagen &amp; Verwandlung</h3>
    <p>Figuren schlagen, indem sie auf ein gegnerisches Feld ziehen. Schlaegt ein <b>Tuemmler (P)</b>, verwandelt er sich sofort in einen <b>Orca (O)</b> &mdash; die staerkste Figur im Spiel.</p>

    <h3>Figuren</h3>
    <div class="piece-help">
      <div class="piece-info"><span class="name">H &ndash; Hauptmann (x1)</span><br><span class="desc">1 Feld, alle 8 Richtungen.</span></div>
      <div class="piece-info"><span class="name">W &ndash; Waechter (x2)</span><br><span class="desc">1 Feld, 6 Richtungen (nicht diag. vorwaerts).</span></div>
      <div class="piece-info"><span class="name">K &ndash; Klinge (x2)</span><br><span class="desc">1 Feld: vorwaerts + alle 4 Diagonalen.</span></div>
      <div class="piece-info"><span class="name">S &ndash; Springer (x1)</span><br><span class="desc">L-Sprung (wie im Schach), ueberspringt Figuren.</span></div>
      <div class="piece-info"><span class="name">T &ndash; Turm (x1)</span><br><span class="desc">Gleitet beliebig weit orthogonal.</span></div>
      <div class="piece-info"><span class="name">P &ndash; Tuemmler (x2)</span><br><span class="desc">1 Feld vor ODER beliebig weit seitwaerts. Wird zum Orca bei Schlag!</span></div>
      <div class="piece-info"><span class="name">O &ndash; Orca</span><br><span class="desc">Beliebig weit orthogonal + 1 Feld diagonal. Entsteht nur durch Verwandlung.</span></div>
    </div>

    <h3>Remis</h3>
    <p>Dreifache Stellungswiederholung oder 50 Zuege ohne Schlag/Tod.</p>
  </div>

  <div id="game-over-overlay">
    <div id="game-over-box">
      <h2 id="game-over-title"></h2>
      <p id="game-over-text"></p>
      <button id="btn-new-game-over">Neues Spiel</button>
    </div>
  </div>
</div>

<script src="assets/tethari.js"></script>
</body>
</html>
